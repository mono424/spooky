fn apply_vars<'a, C: Connection>(mut query: Query<'a, C>, vars: &Option<String>) -> Query<'a, C> {
    if let Some(json_str) = vars {
        if let Ok(v) = serde_json::from_str::<serde_json::Value>(json_str) {
            if let Some(obj) = v.as_object() {
                for (key, value) in obj {
                    query = query.bind((key.clone(), value.clone()));
                }
            }
        }
    }
    query
}
